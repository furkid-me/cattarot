<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>貓咪塔羅牌 | 神秘占卜體驗</title>
    <meta name="description" content="使用手勢控制抽取貓咪塔羅牌，體驗現代化的神秘占卜">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Inter:wght@300;400;500;600;700&family=Noto+Sans+TC:wght@300;400;500;700&family=Noto+Serif+TC:wght@400;600&display=swap"
        rel="stylesheet">

    <!-- MediaPipe -->
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js"
        crossorigin="anonymous"></script>

    <!-- Styles -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="card-layout.css">
</head>

<body>
    <!-- 隱藏的視訊元素（背景運行） -->
    <video id="webcam" autoplay playsinline style="display: none;"></video>
    <canvas id="canvas" style="display: none;"></canvas>

    <header>
        <h1>🐱 貓咪塔羅牌 🐱</h1>
        <p class="subtitle">左右滑動選牌，握拳抽牌</p>
        <button class="start-btn" id="startBtn">
            🚀 開始
        </button>
    </header>

    <!-- 手勢狀態指示器 -->
    <div class="gesture-indicator" id="gestureStatus">
        <div class="gesture-icon">👋</div>
        <div class="gesture-text">準備中...</div>
    </div>

    <!-- 半透明遮罩 -->
    <div class="card-overlay" id="cardOverlay"></div>

    <!-- 塔羅牌滑動展示區 -->
    <div class="tarot-carousel" id="tarotCarousel">
        <div class="carousel-track" id="carouselTrack">
            <!-- 塔羅牌會動態生成在這裡 -->
        </div>
    </div>

    <!-- 牌義資訊面板 -->
    <div class="info-panel" id="infoPanel">
        <div class="info-content">
            <h2 class="card-name" id="cardName">選擇一張牌</h2>
            <p class="card-name-en" id="cardNameEn">Choose a Card</p>
            <div class="card-meaning" id="cardMeaning">
                左右滑動選擇貓咪塔羅牌，握拳抽取你的命運指引
            </div>
        </div>
    </div>

    <!-- 導航提示 -->
    <div class="nav-hints">
        <div class="hint">左右滑動選牌，握拳抽取你的貓咪塔羅 🐱</div>
    </div>

    <!-- 已抽取的卡牌收集區 -->
    <div class="collected-cards" id="collectedCards"></div>

    <!-- 卡片放大查看模態框 -->
    <div class="card-modal" id="cardModal">
        <div class="card-modal-content">
            <div class="card-modal-image">
                <img id="modalCardImage" src="" alt="">
            </div>
            <div class="card-modal-info">
                <h2 id="modalCardName"></h2>
                <p class="modal-card-name-en" id="modalCardNameEn"></p>
                <div class="modal-card-meaning" id="modalCardMeaning"></div>
            </div>
        </div>
    </div>

    <!-- 使用說明（初次使用） -->
    <div class="tutorial-overlay" id="tutorialOverlay">
        <div class="tutorial-content">
            <h2>🐱 歡迎使用貓咪塔羅牌</h2>
            <div class="tutorial-steps">
                <div class="step">
                    <div class="step-icon">👋</div>
                    <h3>左右滑動</h3>
                    <p>手掌左右滑動選擇卡片，選中的卡片會浮起發光</p>
                </div>
                <div class="step">
                    <div class="step-icon">✊</div>
                    <h3>握拳抽牌</h3>
                    <p>選中想要的卡片後，握緊拳頭抽取貓咪塔羅</p>
                </div>
                <div class="step">
                    <div class="step-icon">👌</div>
                    <h3>OK 收起</h3>
                    <p>閱讀完牌義後，比出 OK 手勢收起卡片繼續抽牌</p>
                </div>
            </div>
            <button class="btn tutorial-btn" id="tutorialBtn">開始體驗</button>
        </div>
    </div>

    <!-- 主要應用程式 -->
    <script src="app.js"></script>
</body>

</html>